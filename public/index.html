<!doctype html>
<html lang="en">
  <head>
    <meta name="description" content="Plant Pal â€” track plants and watering schedules. Express + MongoDB with GitHub login." />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Plant Pal ðŸŒ± - A3</title>

    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@2/css/pico.min.css" />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
    <script defer src="/js/main.js"></script>
    <style>
      .auth-row > * {
        display: flex !important;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        height: 48px;
        width: 100%;
        font-size: 1rem;
        line-height: 1;
        padding: 0 0.75rem !important;
        box-sizing: border-box;
      }

      /* GitHub button sty;e */
      #github-login {
        background: #000 !important;
        color: #fff !important;
        border: none !important;
      }
      #github-login:hover {
        background: #24292e !important; 
      }
      #github-login svg {
        width: 18px;
        height: 18px;
        fill: currentColor;
        flex-shrink: 0;
      }
    </style>
  </head>
  <body>
    <header class="container-fluid site-header">
      <nav>
        <ul>
          <li><strong>Plant Pal ðŸŒ±</strong></li>
        </ul>
        <ul id="auth-nav" class="hidden">
          <li><a href="#add">Add Plant</a></li>
          <li><a href="#all">All Plants</a></li>
          <li><button id="logoutBtn" class="secondary">Logout</button></li>
        </ul>
      </nav>
      <p class="muted">Track plants, water on time.</p>
    </header>

    <main class="container-fluid">
      <section id="login-view">
        <article class="card">
          <h2>Login</h2>
          <p class="muted">New usernames are created automatically. Youâ€™ll be told if that happens.</p>
          <form id="login-form">
            <div class="grid grid-2">
              <label>
                Username
                <input id="login-username" name="username" type="text" required maxlength="60" placeholder="e.g., Joshua" />
              </label>
              <label>
                Password
                <input id="login-password" name="password" type="password" required minlength="4" placeholder="â€¢â€¢â€¢â€¢" />
              </label>
            </div>
            <div class="grid grid-2 auth-row">
              <button class="contrast" type="submit">Sign in</button>

              <!-- OAuth option -->
              <a role="button" id="github-login" href="/auth/github">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                  class="bi bi-github" viewBox="0 0 16 16">
                  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 
                           5.47 7.59.4.07.55-.17.55-.38 
                           0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94
                           -.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53
                           .63-.01 1.08.58 1.23.82.72 1.21 
                           1.87.87 2.33.66.07-.52.28-.87.51-1.07
                           -1.78-.2-3.64-.89-3.64-3.95 
                           0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 
                           0 0 .67-.21 2.2.82.64-.18 
                           1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 
                           2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 
                           1.27.82 2.15 0 3.07-1.87 3.75-3.65 
                           3.95.29.25.54.73.54 1.48 
                           0 1.07-.01 1.93-.01 2.2 
                           0 .21.15.46.55.38A8.01 8.01 0 0 0 16 
                           8c0-4.42-3.58-8-8-8"/>
                </svg>
                Sign in with GitHub
              </a>
            </div>
            <p id="login-msg" class="error"></p>
          </form>
        </article>
      </section>

      <!-- app view -->
      <section id="app-view" class="hidden">
        <h2 id="welcome">Welcome</h2>

        <div class="app-grid">
          <article id="add" class="card">
            <h3>Add a Plant</h3>
            <form id="plant-form" novalidate>
              <div class="grid grid-2">
                <label>
                  Name *
                  <input id="name" name="name" type="text" required maxlength="100" placeholder="Monstera" />
                </label>
                <label>
                  Species
                  <input id="species" name="species" type="text" maxlength="100" placeholder="Monstera deliciosa" />
                </label>
              </div>

              <div class="grid grid-2">
                <label>
                  Last watered *
                  <input id="lastWatered" name="lastWatered" type="date" required />
                </label>
                <label>
                  Interval (days) *
                  <input id="intervalDays" name="intervalDays" type="number" min="1" step="1" required placeholder="7" />
                </label>
              </div>

              <div class="grid grid-2">
                <label>
                  Sunlight
                  <select id="sunlight" name="sunlight">
                    <option value="low">Low</option>
                    <option value="medium" selected>Medium</option>
                    <option value="high">High</option>
                  </select>
                </label>
                <fieldset>
                  <legend>Location</legend>
                  <label>
                    <input type="checkbox" id="indoors" name="indoors" checked />
                    Indoors
                  </label>
                </fieldset>
              </div>

              <label>
                Notes
                <textarea id="notes" name="notes" rows="3" placeholder="watering tricks, pests, etc."></textarea>
              </label>

              <footer class="grid grid-2">
                <button id="submitBtn" class="contrast" type="submit">Save</button>
                <button id="cancelEditBtn" class="secondary hidden" type="button">Cancel edit</button>
              </footer>

              <p id="form-error" class="error" aria-live="polite"></p>
              <input type="hidden" id="editId" />
            </form>
          </article>

          <article id="all" class="card">
            <h3>Your Plants</h3>
            <div class="table-wrap">
              <table id="results" aria-describedby="results-caption">
                <caption id="results-caption" class="sr-only">Plants table</caption>
                <colgroup>
                  <col style="width:12%"><col style="width:12%"><col style="width:11%">
                  <col style="width:8%"><col style="width:11%"><col style="width:8%">
                  <col style="width:9%"><col style="width:7%"><col style="width:auto"><col style="width:9%">
                </colgroup>
                <thead>
                  <tr>
                    <th>Name</th><th>Species</th><th>Last Watered</th><th>Interval</th>
                    <th>Next Water</th><th>Status</th><th>Sunlight</th><th>Indoors</th><th>Notes</th><th>Actions</th>
                  </tr>
                </thead>
                <tbody id="results-body"></tbody>
              </table>
            </div>
            <p id="empty-state" class="muted hidden">No plants yet â€” add one!</p>
          </article>
        </div>
      </section>
    </main>

    <footer class="container-fluid site-footer">
      <small>CS4241 A3 - Express + MongoDB - Utku Yakar</small>
    </footer>
  </body>
</html>
